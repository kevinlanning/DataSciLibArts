<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>16 loops, functions, and beyond | Data science for the liberal arts</title>
  <meta name="description" content="Test" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="16 loops, functions, and beyond | Data science for the liberal arts" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="chihuahuamuffin.jpg" />
  <meta property="og:description" content="Test" />
  <meta name="github-repo" content="kevinlanning/DataSciLibArts" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="16 loops, functions, and beyond | Data science for the liberal arts" />
  
  <meta name="twitter:description" content="Test" />
  <meta name="twitter:image" content="chihuahuamuffin.jpg" />

<meta name="author" content="Kevin Lanning" />


<meta name="date" content="2020-04-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="lists.html"/>
<link rel="next" href="correlation-and-linear-regression.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science for the Liberal Arts</a></li>

<li class="divider"></li>
<li><a href="index.html#section"></a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>preface</a><ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#some-features-of-the-text"><i class="fa fa-check"></i>some features of the text</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#the-book-is-for-you"><i class="fa fa-check"></i>the book is for you</a></li>
</ul></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="data-science-for-the-liberal-arts.html"><a href="data-science-for-the-liberal-arts.html"><i class="fa fa-check"></i><b>1</b> data science for the liberal arts</a><ul>
<li class="chapter" data-level="1.1" data-path="data-science-for-the-liberal-arts.html"><a href="data-science-for-the-liberal-arts.html#type-c-data-science-data-science-for-the-liberal-arts"><i class="fa fa-check"></i><b>1.1</b> type C data science = data science for the liberal arts</a></li>
<li class="chapter" data-level="1.2" data-path="data-science-for-the-liberal-arts.html"><a href="data-science-for-the-liberal-arts.html#the-incompleteness-of-the-data-science-venn-diagram"><i class="fa fa-check"></i><b>1.2</b> the incompleteness of the data science Venn diagram</a></li>
<li class="chapter" data-level="1.3" data-path="data-science-for-the-liberal-arts.html"><a href="data-science-for-the-liberal-arts.html#a-dimension-of-depth"><i class="fa fa-check"></i><b>1.3</b> a dimension of depth</a></li>
<li class="chapter" data-level="1.4" data-path="data-science-for-the-liberal-arts.html"><a href="data-science-for-the-liberal-arts.html#google-and-the-liberal-arts"><i class="fa fa-check"></i><b>1.4</b> Google and the liberal arts</a></li>
<li class="chapter" data-level="1.5" data-path="data-science-for-the-liberal-arts.html"><a href="data-science-for-the-liberal-arts.html#data-sci-and-tmi"><i class="fa fa-check"></i><b>1.5</b> data sci and TMI</a></li>
<li class="chapter" data-level="1.6" data-path="data-science-for-the-liberal-arts.html"><a href="data-science-for-the-liberal-arts.html#discussion-what-will-you-do-with-data-science"><i class="fa fa-check"></i><b>1.6</b> discussion: what will you do with data science?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2</b> getting started</a><ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html#are-you-already-a-programmer-and-statistician"><i class="fa fa-check"></i><b>2.1</b> are you already a programmer and statistician?</a></li>
<li class="chapter" data-level="2.2" data-path="getting-started.html"><a href="getting-started.html#setting-up-your-machine-some-basic-tools"><i class="fa fa-check"></i><b>2.2</b> setting up your machine: some basic tools</a></li>
<li class="chapter" data-level="2.3" data-path="getting-started.html"><a href="getting-started.html#a-modified-15-minute-rule"><i class="fa fa-check"></i><b>2.3</b> a modified 15-minute rule</a></li>
<li class="chapter" data-level="2.4" data-path="getting-started.html"><a href="getting-started.html#discussion-who-deserves-a-good-grade"><i class="fa fa-check"></i><b>2.4</b> discussion: who deserves a good grade?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-stands-for.html"><a href="r-stands-for.html"><i class="fa fa-check"></i><b>3</b> R stands for …</a><ul>
<li class="chapter" data-level="3.1" data-path="r-stands-for.html"><a href="r-stands-for.html#a-few-characteristics-of-r"><i class="fa fa-check"></i><b>3.1</b> a few characteristics of R</a></li>
<li class="chapter" data-level="3.2" data-path="r-stands-for.html"><a href="r-stands-for.html#finding-help"><i class="fa fa-check"></i><b>3.2</b> finding help</a></li>
<li class="chapter" data-level="3.3" data-path="r-stands-for.html"><a href="r-stands-for.html#wickham-and-r-for-data-science"><i class="fa fa-check"></i><b>3.3</b> Wickham and R for Data Science</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html"><i class="fa fa-check"></i><b>4</b> now draw the rest of the owl</a><ul>
<li class="chapter" data-level="4.1" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html#carmichael"><i class="fa fa-check"></i><b>4.1</b> Carmichael</a></li>
<li class="chapter" data-level="4.2" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html#datacamp"><i class="fa fa-check"></i><b>4.2</b> DataCamp</a></li>
<li class="chapter" data-level="4.3" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html#swirl-swirlstats"><i class="fa fa-check"></i><b>4.3</b> Swirl (Swirlstats)</a></li>
<li class="chapter" data-level="4.4" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html#peng-text-and-videos"><i class="fa fa-check"></i><b>4.4</b> Peng text and videos</a></li>
<li class="chapter" data-level="4.5" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html#something-else"><i class="fa fa-check"></i><b>4.5</b> Something else</a></li>
<li class="chapter" data-level="4.6" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html#an-exercise"><i class="fa fa-check"></i><b>4.6</b> An exercise</a><ul>
<li class="chapter" data-level="4.6.1" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html#an-initial-solution"><i class="fa fa-check"></i><b>4.6.1</b> An initial solution</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html#an-introduction-to-r-markdown"><i class="fa fa-check"></i><b>4.7</b> An introduction to R markdown</a><ul>
<li class="chapter" data-level="4.7.1" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html#step-by-step"><i class="fa fa-check"></i><b>4.7.1</b> Step-by-step</a></li>
<li class="chapter" data-level="4.7.2" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html#spilled"><i class="fa fa-check"></i><b>4.7.2</b> Spilled???</a></li>
<li class="chapter" data-level="4.7.3" data-path="now-draw-the-rest-of-the-owl.html"><a href="now-draw-the-rest-of-the-owl.html#your-turn"><i class="fa fa-check"></i><b>4.7.3</b> Your turn</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Part II Towards data literacy</b></span></li>
<li class="chapter" data-level="5" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html"><i class="fa fa-check"></i><b>5</b> Principles of data visualization</a><ul>
<li class="chapter" data-level="5.1" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#some-opening-thoughts"><i class="fa fa-check"></i><b>5.1</b> Some opening thoughts</a></li>
<li class="chapter" data-level="5.2" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#some-early-graphs"><i class="fa fa-check"></i><b>5.2</b> Some early graphs</a></li>
<li class="chapter" data-level="5.3" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#tukey-and-eda"><i class="fa fa-check"></i><b>5.3</b> Tukey and EDA</a></li>
<li class="chapter" data-level="5.4" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#approaches-to-graphs"><i class="fa fa-check"></i><b>5.4</b> Approaches to graphs</a></li>
<li class="chapter" data-level="5.5" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#tufte-first-principles"><i class="fa fa-check"></i><b>5.5</b> Tufte: First principles</a></li>
<li class="chapter" data-level="5.6" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#the-politics-of-data-visualization"><i class="fa fa-check"></i><b>5.6</b> The politics of data visualization</a><ul>
<li class="chapter" data-level="5.6.1" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#poor-design-leads-to-an-uninformed-or-misinformed-world"><i class="fa fa-check"></i><b>5.6.1</b> Poor design leads to an uninformed or misinformed world</a></li>
<li class="chapter" data-level="5.6.2" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#poor-design-can-be-a-tool-to-deceive"><i class="fa fa-check"></i><b>5.6.2</b> Poor design can be a tool to deceive</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#the-psychology-of-data-visualization"><i class="fa fa-check"></i><b>5.7</b> The psychology of data visualization</a><ul>
<li class="chapter" data-level="5.7.1" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#the-power-of-animation"><i class="fa fa-check"></i><b>5.7.1</b> The power of animation</a></li>
<li class="chapter" data-level="5.7.2" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#telling-the-truth-when-the-truth-is-unclear"><i class="fa fa-check"></i><b>5.7.2</b> Telling the truth when the truth is unclear</a></li>
<li class="chapter" data-level="5.7.3" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#visualizing-uncertainty"><i class="fa fa-check"></i><b>5.7.3</b> Visualizing uncertainty</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="principles-of-data-visualization.html"><a href="principles-of-data-visualization.html#further-reading-and-resources"><i class="fa fa-check"></i><b>5.8</b> further reading and resources</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html"><i class="fa fa-check"></i><b>6</b> visualization in R with ggplot</a><ul>
<li class="chapter" data-level="6.1" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html#a-picture-words-numbers"><i class="fa fa-check"></i><b>6.1</b> a picture &gt; (words, numbers)?</a></li>
<li class="chapter" data-level="6.2" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html#read-hadley-ggplots"><i class="fa fa-check"></i><b>6.2</b> Read Hadley ggplots</a></li>
<li class="chapter" data-level="6.3" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html#exploring-more-data"><i class="fa fa-check"></i><b>6.3</b> exploring more data</a></li>
<li class="chapter" data-level="6.4" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html#advanced-tracking-the-novel-coronavirus"><i class="fa fa-check"></i><b>6.4</b> Advanced: Tracking the Novel Coronavirus</a><ul>
<li class="chapter" data-level="6.4.1" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html#reading-the-data"><i class="fa fa-check"></i><b>6.4.1</b> Reading the data</a></li>
<li class="chapter" data-level="6.4.2" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html#cleaning-wrangling-munging-the-data"><i class="fa fa-check"></i><b>6.4.2</b> Cleaning (wrangling, munging) the data</a></li>
<li class="chapter" data-level="6.4.3" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html#simplifying-the-data-china-and-the-rest-of-the-world"><i class="fa fa-check"></i><b>6.4.3</b> Simplifying the data: China and the rest of the world</a></li>
<li class="chapter" data-level="6.4.4" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html#an-initial-plot"><i class="fa fa-check"></i><b>6.4.4</b> An initial plot</a></li>
<li class="chapter" data-level="6.4.5" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html#adding-recovered-cases"><i class="fa fa-check"></i><b>6.4.5</b> Adding recovered cases</a></li>
<li class="chapter" data-level="6.4.6" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html#make-the-graph-interactive"><i class="fa fa-check"></i><b>6.4.6</b> Make the graph interactive</a></li>
<li class="chapter" data-level="6.4.7" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html#plotting-confirmed-cases"><i class="fa fa-check"></i><b>6.4.7</b> Plotting confirmed cases</a></li>
<li class="chapter" data-level="6.4.8" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html#some-questions"><i class="fa fa-check"></i><b>6.4.8</b> Some questions</a></li>
<li class="chapter" data-level="6.4.9" data-path="visualization-in-r-with-ggplot.html"><a href="visualization-in-r-with-ggplot.html#additional-notes"><i class="fa fa-check"></i><b>6.4.9</b> Additional notes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html"><i class="fa fa-check"></i><b>7</b> on probability and statistics</a><ul>
<li class="chapter" data-level="7.1" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#on-probability"><i class="fa fa-check"></i><b>7.1</b> on probability</a></li>
<li class="chapter" data-level="7.2" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#the-rules-of-probability"><i class="fa fa-check"></i><b>7.2</b> the rules of probability</a><ul>
<li class="chapter" data-level="7.2.1" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#keeping-conditional-probabilities-straight"><i class="fa fa-check"></i><b>7.2.1</b> keeping conditional probabilities straight</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#continuous-probability-distributions"><i class="fa fa-check"></i><b>7.3</b> continuous probability distributions</a></li>
<li class="chapter" data-level="7.4" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#the-most-dangerous-equation"><i class="fa fa-check"></i><b>7.4</b> the most dangerous equation</a></li>
<li class="chapter" data-level="7.5" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#appendix-notes-on-discrete-probability"><i class="fa fa-check"></i><b>7.5</b> appendix: notes on discrete probability</a></li>
<li class="chapter" data-level="7.6" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#discrete-probability-see-attribution-in-7.5"><i class="fa fa-check"></i><b>7.6</b> Discrete Probability (see attribution in 7.5)</a><ul>
<li class="chapter" data-level="7.6.1" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#relative-frequency"><i class="fa fa-check"></i><b>7.6.1</b> Relative Frequency</a></li>
<li class="chapter" data-level="7.6.2" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#notation"><i class="fa fa-check"></i><b>7.6.2</b> Notation</a></li>
<li class="chapter" data-level="7.6.3" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#monte-carlo-simulations"><i class="fa fa-check"></i><b>7.6.3</b> Monte Carlo Simulations</a></li>
<li class="chapter" data-level="7.6.4" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#with-and-without-replacement"><i class="fa fa-check"></i><b>7.6.4</b> With and without replacement</a></li>
<li class="chapter" data-level="7.6.5" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#probability-distributions"><i class="fa fa-check"></i><b>7.6.5</b> Probability Distributions</a></li>
<li class="chapter" data-level="7.6.6" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#independence"><i class="fa fa-check"></i><b>7.6.6</b> Independence</a></li>
<li class="chapter" data-level="7.6.7" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#conditional-probabilities"><i class="fa fa-check"></i><b>7.6.7</b> Conditional Probabilities</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#multiplication-rule-see-attribution-in-7.5"><i class="fa fa-check"></i><b>7.7</b> Multiplication rule (see attribution in 7.5)</a><ul>
<li class="chapter" data-level="7.7.1" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#combinations-and-permutations"><i class="fa fa-check"></i><b>7.7.1</b> Combinations and Permutations</a></li>
<li class="chapter" data-level="7.7.2" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#birthday-problem"><i class="fa fa-check"></i><b>7.7.2</b> Birthday Problem</a></li>
<li class="chapter" data-level="7.7.3" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#sapply-a-better-way-to-do-for-loops"><i class="fa fa-check"></i><b>7.7.3</b> sapply: a better way to do for loops</a></li>
<li class="chapter" data-level="7.7.4" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#how-many-monte-carlo-experiments-are-enough"><i class="fa fa-check"></i><b>7.7.4</b> How many Monte Carlo experiments are enough</a></li>
<li class="chapter" data-level="7.7.5" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#addition-rule"><i class="fa fa-check"></i><b>7.7.5</b> Addition Rule</a></li>
<li class="chapter" data-level="7.7.6" data-path="on-probability-and-statistics.html"><a href="on-probability-and-statistics.html#monty-hall-problem"><i class="fa fa-check"></i><b>7.7.6</b> Monty Hall Problem</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="reproducibility-and-the-replication-crisis.html"><a href="reproducibility-and-the-replication-crisis.html"><i class="fa fa-check"></i><b>8</b> Reproducibility and the replication crisis</a><ul>
<li class="chapter" data-level="8.1" data-path="reproducibility-and-the-replication-crisis.html"><a href="reproducibility-and-the-replication-crisis.html#answers-to-the-reproducibility-crisis"><i class="fa fa-check"></i><b>8.1</b> Answers to the reproducibility crisis</a><ul>
<li class="chapter" data-level="8.1.1" data-path="reproducibility-and-the-replication-crisis.html"><a href="reproducibility-and-the-replication-crisis.html#tweak-or-abandon-nhst"><i class="fa fa-check"></i><b>8.1.1</b> Tweak or abandon NHST</a></li>
<li class="chapter" data-level="8.1.2" data-path="reproducibility-and-the-replication-crisis.html"><a href="reproducibility-and-the-replication-crisis.html#keep-a-log-of-every-step-of-every-analysis-in-r-markdown-or-jupyter-notebooks"><i class="fa fa-check"></i><b>8.1.2</b> Keep a log of every step of every analysis in R markdown or Jupyter notebooks</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="reproducibility-and-the-replication-crisis.html"><a href="reproducibility-and-the-replication-crisis.html#answers-to-the-reproducibility-crisis-iii-pre-registration"><i class="fa fa-check"></i><b>8.2</b> Answers to the reproducibility crisis III: Pre-registration</a></li>
<li class="chapter" data-level="8.3" data-path="reproducibility-and-the-replication-crisis.html"><a href="reproducibility-and-the-replication-crisis.html#further-readings"><i class="fa fa-check"></i><b>8.3</b> Further readings</a></li>
</ul></li>
<li class="part"><span><b>III Part III Towards data proficiency</b></span></li>
<li class="chapter" data-level="9" data-path="literate-programming-with-r-markdown.html"><a href="literate-programming-with-r-markdown.html"><i class="fa fa-check"></i><b>9</b> literate programming with R markdown</a><ul>
<li class="chapter" data-level="9.1" data-path="literate-programming-with-r-markdown.html"><a href="literate-programming-with-r-markdown.html#scripts-are-files-of-code"><i class="fa fa-check"></i><b>9.1</b> scripts are files of code</a><ul>
<li class="chapter" data-level="9.1.1" data-path="literate-programming-with-r-markdown.html"><a href="literate-programming-with-r-markdown.html#some-elements-of-coding-style"><i class="fa fa-check"></i><b>9.1.1</b> some elements of coding style</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="literate-programming-with-r-markdown.html"><a href="literate-programming-with-r-markdown.html#projects-are-directories-containing-related-scripts"><i class="fa fa-check"></i><b>9.2</b> projects are directories containing related scripts</a></li>
<li class="chapter" data-level="9.3" data-path="literate-programming-with-r-markdown.html"><a href="literate-programming-with-r-markdown.html#r-markdown-documents-integrate-rationale-script-and-results"><i class="fa fa-check"></i><b>9.3</b> R markdown documents integrate rationale, script, and results</a></li>
<li class="chapter" data-level="9.4" data-path="literate-programming-with-r-markdown.html"><a href="literate-programming-with-r-markdown.html#what-to-do-when-you-are-stuck"><i class="fa fa-check"></i><b>9.4</b> What to do when you are stuck</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="the-tidyverse.html"><a href="the-tidyverse.html"><i class="fa fa-check"></i><b>10</b> the tidyverse</a><ul>
<li class="chapter" data-level="10.1" data-path="the-tidyverse.html"><a href="the-tidyverse.html#some-simple-principles"><i class="fa fa-check"></i><b>10.1</b> some simple principles</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="finding-exploring-and-cleaning-data.html"><a href="finding-exploring-and-cleaning-data.html"><i class="fa fa-check"></i><b>11</b> finding, exploring, and cleaning data</a><ul>
<li class="chapter" data-level="11.1" data-path="finding-exploring-and-cleaning-data.html"><a href="finding-exploring-and-cleaning-data.html#data-in-r-libraries"><i class="fa fa-check"></i><b>11.1</b> Data in R libraries</a></li>
<li class="chapter" data-level="11.2" data-path="finding-exploring-and-cleaning-data.html"><a href="finding-exploring-and-cleaning-data.html#other-prepared-datasets"><i class="fa fa-check"></i><b>11.2</b> Other prepared datasets</a></li>
<li class="chapter" data-level="11.3" data-path="finding-exploring-and-cleaning-data.html"><a href="finding-exploring-and-cleaning-data.html#makeextractcombine-your-own-data"><i class="fa fa-check"></i><b>11.3</b> Make/extract/combine your own data</a></li>
<li class="chapter" data-level="11.4" data-path="finding-exploring-and-cleaning-data.html"><a href="finding-exploring-and-cleaning-data.html#exploring-data"><i class="fa fa-check"></i><b>11.4</b> exploring data</a></li>
<li class="chapter" data-level="11.5" data-path="finding-exploring-and-cleaning-data.html"><a href="finding-exploring-and-cleaning-data.html#messy-data-cleaning-and-curation"><i class="fa fa-check"></i><b>11.5</b> messy data: Cleaning and curation</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="transforming-data.html"><a href="transforming-data.html"><i class="fa fa-check"></i><b>12</b> transforming data</a><ul>
<li class="chapter" data-level="12.1" data-path="transforming-data.html"><a href="transforming-data.html#from-data-on-the-web-to-data-in-r"><i class="fa fa-check"></i><b>12.1</b> from data on the web to data in R</a></li>
<li class="chapter" data-level="12.2" data-path="transforming-data.html"><a href="transforming-data.html#working-with-geodata-a-function-to-get-us-states-from-latitudelongitude"><i class="fa fa-check"></i><b>12.2</b> working with geodata: a function to get US states from latitude/longitude</a><ul>
<li class="chapter" data-level="12.2.1" data-path="transforming-data.html"><a href="transforming-data.html#applying-the-function-to-the-music-data"><i class="fa fa-check"></i><b>12.2.1</b> applying the function to the music data</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="transforming-data.html"><a href="transforming-data.html#drowning-in-the-sea-of-songs-with-apologies-to-arivoim1187b990643"><i class="fa fa-check"></i><b>12.3</b> drowning in the sea of songs (with apologies to <em>ARIVOIM1187B990643</em>)</a><ul>
<li class="chapter" data-level="12.3.1" data-path="transforming-data.html"><a href="transforming-data.html#combining-the-song-titles-with-our-us-artists"><i class="fa fa-check"></i><b>12.3.1</b> combining the song titles with our US artists</a></li>
<li class="chapter" data-level="12.3.2" data-path="transforming-data.html"><a href="transforming-data.html#exercises"><i class="fa fa-check"></i><b>12.3.2</b> exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="transforming-data.html"><a href="transforming-data.html#review-of-munging-tools"><i class="fa fa-check"></i><b>12.4</b> review of munging tools</a><ul>
<li class="chapter" data-level="12.4.1" data-path="transforming-data.html"><a href="transforming-data.html#and-still-more-munging"><i class="fa fa-check"></i><b>12.4.1</b> and still more munging</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="an-interlude.html"><a href="an-interlude.html"><i class="fa fa-check"></i><b>13</b> an interlude</a><ul>
<li class="chapter" data-level="13.1" data-path="an-interlude.html"><a href="an-interlude.html#global-data"><i class="fa fa-check"></i><b>13.1</b> global data</a></li>
<li class="chapter" data-level="13.2" data-path="an-interlude.html"><a href="an-interlude.html#florida-data"><i class="fa fa-check"></i><b>13.2</b> Florida data</a></li>
<li class="chapter" data-level="13.3" data-path="an-interlude.html"><a href="an-interlude.html#network-models"><i class="fa fa-check"></i><b>13.3</b> network models</a></li>
<li class="chapter" data-level="13.4" data-path="an-interlude.html"><a href="an-interlude.html#back-to-r-relational-data"><i class="fa fa-check"></i><b>13.4</b> back to R: relational data</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="strings-factors-dates-and-times.html"><a href="strings-factors-dates-and-times.html"><i class="fa fa-check"></i><b>14</b> strings, factors, dates, and times</a><ul>
<li class="chapter" data-level="14.1" data-path="strings-factors-dates-and-times.html"><a href="strings-factors-dates-and-times.html#strings"><i class="fa fa-check"></i><b>14.1</b> strings</a></li>
<li class="chapter" data-level="14.2" data-path="strings-factors-dates-and-times.html"><a href="strings-factors-dates-and-times.html#factors"><i class="fa fa-check"></i><b>14.2</b> factors</a><ul>
<li class="chapter" data-level="14.2.1" data-path="strings-factors-dates-and-times.html"><a href="strings-factors-dates-and-times.html#types-of-babies"><i class="fa fa-check"></i><b>14.2.1</b> types of babies</a></li>
<li class="chapter" data-level="14.2.2" data-path="strings-factors-dates-and-times.html"><a href="strings-factors-dates-and-times.html#types-of-grown-ups"><i class="fa fa-check"></i><b>14.2.2</b> types of grown-ups</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="strings-factors-dates-and-times.html"><a href="strings-factors-dates-and-times.html#dates"><i class="fa fa-check"></i><b>14.3</b> dates</a></li>
<li class="chapter" data-level="14.4" data-path="strings-factors-dates-and-times.html"><a href="strings-factors-dates-and-times.html#times"><i class="fa fa-check"></i><b>14.4</b> times</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="lists.html"><a href="lists.html"><i class="fa fa-check"></i><b>15</b> lists</a></li>
<li class="chapter" data-level="16" data-path="loops-functions-and-beyond.html"><a href="loops-functions-and-beyond.html"><i class="fa fa-check"></i><b>16</b> loops, functions, and beyond</a><ul>
<li class="chapter" data-level="16.1" data-path="loops-functions-and-beyond.html"><a href="loops-functions-and-beyond.html#loops"><i class="fa fa-check"></i><b>16.1</b> loops</a></li>
<li class="chapter" data-level="16.2" data-path="loops-functions-and-beyond.html"><a href="loops-functions-and-beyond.html#from-loop-to-apply-to-purrrmap"><i class="fa fa-check"></i><b>16.2</b> from loop to apply to purrr::map</a></li>
<li class="chapter" data-level="16.3" data-path="loops-functions-and-beyond.html"><a href="loops-functions-and-beyond.html#some-examples-of-functions"><i class="fa fa-check"></i><b>16.3</b> some examples of functions</a><ul>
<li class="chapter" data-level="16.3.1" data-path="loops-functions-and-beyond.html"><a href="loops-functions-and-beyond.html#preliminaries"><i class="fa fa-check"></i><b>16.3.1</b> preliminaries</a></li>
<li class="chapter" data-level="16.3.2" data-path="loops-functions-and-beyond.html"><a href="loops-functions-and-beyond.html#the-function"><i class="fa fa-check"></i><b>16.3.2</b> the function</a></li>
<li class="chapter" data-level="16.3.3" data-path="loops-functions-and-beyond.html"><a href="loops-functions-and-beyond.html#applying-the-function"><i class="fa fa-check"></i><b>16.3.3</b> applying the function</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="loops-functions-and-beyond.html"><a href="loops-functions-and-beyond.html#how-many-bottles-of-what"><i class="fa fa-check"></i><b>16.4</b> how many bottles of what?</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html"><i class="fa fa-check"></i><b>17</b> correlation and linear regression</a><ul>
<li class="chapter" data-level="17.1" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#correlation"><i class="fa fa-check"></i><b>17.1</b> correlation</a><ul>
<li class="chapter" data-level="17.1.1" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#the-regression-line"><i class="fa fa-check"></i><b>17.1.1</b> The regression line</a></li>
<li class="chapter" data-level="17.1.2" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#warning-there-are-two-regression-lines"><i class="fa fa-check"></i><b>17.1.2</b> Warning: there are two regression lines</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#multiple-regression"><i class="fa fa-check"></i><b>17.2</b> multiple regression</a></li>
<li class="chapter" data-level="17.3" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#swiss-fertility-data"><i class="fa fa-check"></i><b>17.3</b> Swiss fertility data</a></li>
<li class="chapter" data-level="17.4" data-path="correlation-and-linear-regression.html"><a href="correlation-and-linear-regression.html#marital-affairs-data"><i class="fa fa-check"></i><b>17.4</b> marital affairs data</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="cross-validation.html"><a href="cross-validation.html"><i class="fa fa-check"></i><b>18</b> cross-validation</a><ul>
<li class="chapter" data-level="18.1" data-path="cross-validation.html"><a href="cross-validation.html#revisiting-the-affairs-data"><i class="fa fa-check"></i><b>18.1</b> revisiting the affairs data</a></li>
<li class="chapter" data-level="18.2" data-path="cross-validation.html"><a href="cross-validation.html#avoiding-capitalizing-on-chance"><i class="fa fa-check"></i><b>18.2</b> avoiding capitalizing on chance</a><ul>
<li class="chapter" data-level="18.2.1" data-path="cross-validation.html"><a href="cross-validation.html#splitting-the-data-into-training-and-test-subsamples"><i class="fa fa-check"></i><b>18.2.1</b> splitting the data into training and test subsamples</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="cross-validation.html"><a href="cross-validation.html#an-example-of-cross-validated-linear-regression"><i class="fa fa-check"></i><b>18.3</b> an example of cross-validated linear regression</a><ul>
<li class="chapter" data-level="18.3.1" data-path="cross-validation.html"><a href="cross-validation.html#applying-logistic-regression-analysis-to-the-training-data"><i class="fa fa-check"></i><b>18.3.1</b> applying logistic regression analysis to the training data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html"><i class="fa fa-check"></i><b>19</b> prediction and classification</a><ul>
<li class="chapter" data-level="19.1" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#from-regression-to-classification-selection-of-a-threshold"><i class="fa fa-check"></i><b>19.1</b> from regression to classification: selection of a threshold</a><ul>
<li class="chapter" data-level="19.1.1" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#applying-the-model-to-the-test-data"><i class="fa fa-check"></i><b>19.1.1</b> applying the model to the test data</a></li>
<li class="chapter" data-level="19.1.2" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#changing-our-decision-threshold"><i class="fa fa-check"></i><b>19.1.2</b> changing our decision threshold</a></li>
<li class="chapter" data-level="19.1.3" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#more-confusion"><i class="fa fa-check"></i><b>19.1.3</b> more confusion</a></li>
<li class="chapter" data-level="19.1.4" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#rocs-and-auc"><i class="fa fa-check"></i><b>19.1.4</b> ROCs and AUC</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#another-approach-to-classification-k-nearest-neighbor"><i class="fa fa-check"></i><b>19.2</b> another approach to classification: k-nearest neighbor</a><ul>
<li class="chapter" data-level="19.2.1" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#application-the-affairs-data"><i class="fa fa-check"></i><b>19.2.1</b> application: the affairs data</a></li>
<li class="chapter" data-level="19.2.2" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#from-one-doppelganger-to-many"><i class="fa fa-check"></i><b>19.2.2</b> from one doppelganger to many</a></li>
<li class="chapter" data-level="19.2.3" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#the-bayesian-classifier"><i class="fa fa-check"></i><b>19.2.3</b> the Bayesian classifier</a></li>
<li class="chapter" data-level="19.2.4" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#back-to-the-affairs-data"><i class="fa fa-check"></i><b>19.2.4</b> Back to the affairs data</a></li>
<li class="chapter" data-level="19.2.5" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#avoiding-capitalization-on-chance-again"><i class="fa fa-check"></i><b>19.2.5</b> avoiding capitalization on chance (again)</a></li>
<li class="chapter" data-level="19.2.6" data-path="prediction-and-classification.html"><a href="prediction-and-classification.html#the-multinomial-case"><i class="fa fa-check"></i><b>19.2.6</b> the multinomial case</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><a href="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><i class="fa fa-check"></i><b>20</b> machine learning: chihuahuas vs muffins, and other distinctions and ideas</a><ul>
<li class="chapter" data-level="20.1" data-path="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><a href="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html#supervised-versus-unsupervised"><i class="fa fa-check"></i><b>20.1</b> supervised versus unsupervised</a></li>
<li class="chapter" data-level="20.2" data-path="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><a href="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html#prediction-versus-classification"><i class="fa fa-check"></i><b>20.2</b> prediction versus classification</a></li>
<li class="chapter" data-level="20.3" data-path="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><a href="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html#understanding-versus-prediction"><i class="fa fa-check"></i><b>20.3</b> understanding versus prediction</a></li>
<li class="chapter" data-level="20.4" data-path="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><a href="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html#bias-versus-variability"><i class="fa fa-check"></i><b>20.4</b> bias versus variability</a><ul>
<li class="chapter" data-level="20.4.1" data-path="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><a href="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html#resampling-beyond-test-training-and-validation-samples"><i class="fa fa-check"></i><b>20.4.1</b> resampling: beyond test, training, and validation samples</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html"><a href="machine-learning-chihuahuas-vs-muffins-and-other-distinctions-and-ideas.html#compensatory-versus-non-compensatory-problems"><i class="fa fa-check"></i><b>20.5</b> compensatory versus non-compensatory problems</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html"><i class="fa fa-check"></i><b>21</b> some ethical concerns for the data scientist</a><ul>
<li class="chapter" data-level="21.1" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html#ethics-and-personality-harvesting"><i class="fa fa-check"></i><b>21.1</b> ethics and personality harvesting</a></li>
<li class="chapter" data-level="21.2" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html#the-law-of-unintended-consequences"><i class="fa fa-check"></i><b>21.2</b> the law of unintended consequences</a></li>
<li class="chapter" data-level="21.3" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html#your-privacy-is-my-concern"><i class="fa fa-check"></i><b>21.3</b> your privacy is my concern</a></li>
<li class="chapter" data-level="21.4" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html#who-should-hold-the-digital-keys"><i class="fa fa-check"></i><b>21.4</b> who should hold the digital keys?</a></li>
<li class="chapter" data-level="21.5" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html#contact-tracing-and-covid-19"><i class="fa fa-check"></i><b>21.5</b> contact-tracing and COVID-19</a></li>
<li class="chapter" data-level="21.6" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html#the-digital-divide"><i class="fa fa-check"></i><b>21.6</b> the digital divide</a></li>
<li class="chapter" data-level="21.7" data-path="some-ethical-concerns-for-the-data-scientist.html"><a href="some-ethical-concerns-for-the-data-scientist.html#some-potential-remedies"><i class="fa fa-check"></i><b>21.7</b> some potential remedies</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>22</b> references</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data science for the liberal arts</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="loops-functions-and-beyond" class="section level1">
<h1><span class="header-section-number">16</span> loops, functions, and beyond</h1>
<p>In one of the most important contemporary theoretical models of intelligence, <span class="citation">(Sternberg <a href="#ref-sternberg1999theory" role="doc-biblioref">1999</a>)</span> has argued that the ability to automatize, that is, to work efficiently on repeated or habitual tasks, is a key component of intelligent behavior. Solving habitual problems efficiently - whether it is making a cup of coffee, honing to the shortest path to compete a shopping list in a supermarket or finish a series of errands across town - allows us to focus our limited resources on other challenging tasks.</p>
<p>In programming, loops and functions are essential tools for making repetitive tasks simple. Simplifying your code is one of the more intellectually satisfying aspects of working in R or in any programming language.</p>
<p>In R, loops are supplemented by additional tools for simplifying and avoiding repetition in code, including the ‘apply’ family and the map function in purrr. Functions (and, beyond this, custom libraries) can further streamline your work.</p>
<div id="loops" class="section level2">
<h2><span class="header-section-number">16.1</span> loops</h2>
<p>Consider the task of printing out a series of numbers. Here’s a simple example of how this could be done in a loop in R. It prints numbers between 1995 and 1998 (inclusive).</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb158-1" title="1">knitr<span class="op">::</span>opts_chunk<span class="op">$</span><span class="kw">set</span>(<span class="dt">message =</span> <span class="ot">FALSE</span>, <span class="dt">warning =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb158-2" title="2"><span class="kw">library</span>(kableExtra)</a>
<a class="sourceLine" id="cb158-3" title="3"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb158-4" title="4"><span class="kw">library</span>(babynames)</a>
<a class="sourceLine" id="cb158-5" title="5"></a>
<a class="sourceLine" id="cb158-6" title="6"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1995</span><span class="op">:</span><span class="dv">1998</span>) { <span class="co"># i is an index code</span></a>
<a class="sourceLine" id="cb158-7" title="7">    <span class="kw">print</span>(i) <span class="co"># print the ith value in the sequence </span></a>
<a class="sourceLine" id="cb158-8" title="8">} <span class="co"># go to the next one until the range is complete</span></a></code></pre></div>
<pre><code>## [1] 1995
## [1] 1996
## [1] 1997
## [1] 1998</code></pre>
<p>Let’s expand on this a little, connecting back to the babynames data. This will print counts of the number of babies for each year in GenerationZ, which includes years from 1995-2015.</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb160-1" title="1">genZ &lt;-<span class="st"> </span>(<span class="dv">1995</span><span class="op">:</span><span class="dv">2015</span>)</a>
<a class="sourceLine" id="cb160-2" title="2"><span class="co"># this reduces the (big) babynames to a simple file of years and counts</span></a>
<a class="sourceLine" id="cb160-3" title="3">babyCounts &lt;-</a>
<a class="sourceLine" id="cb160-4" title="4"><span class="st">    </span>babynames <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb160-5" title="5"><span class="st">    </span><span class="kw">group_by</span>(year) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb160-6" title="6"><span class="st">    </span><span class="kw">filter</span>(year <span class="op">%in%</span><span class="st"> </span>genZ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb160-7" title="7"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">nbabies =</span> <span class="kw">sum</span>(n))</a>
<a class="sourceLine" id="cb160-8" title="8">    </a>
<a class="sourceLine" id="cb160-9" title="9"><span class="co"># and this uses a for loop to print each row in turn</span></a>
<a class="sourceLine" id="cb160-10" title="10"><span class="cf">for</span> (i <span class="cf">in</span> (<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(babyCounts))) { </a>
<a class="sourceLine" id="cb160-11" title="11">    <span class="co"># filename[i,j] == ith row and jth column</span></a>
<a class="sourceLine" id="cb160-12" title="12">    <span class="kw">print</span>(<span class="kw">paste</span>((babyCounts[i,<span class="dv">1</span>]), babyCounts[i,<span class="dv">2</span>]))</a>
<a class="sourceLine" id="cb160-13" title="13">}</a></code></pre></div>
<pre><code>## [1] &quot;1995 3661351&quot;
## [1] &quot;1996 3646362&quot;
## [1] &quot;1997 3624799&quot;
## [1] &quot;1998 3677107&quot;
## [1] &quot;1999 3692537&quot;
## [1] &quot;2000 3778079&quot;
## [1] &quot;2001 3741451&quot;
## [1] &quot;2002 3736042&quot;
## [1] &quot;2003 3799971&quot;
## [1] &quot;2004 3818361&quot;
## [1] &quot;2005 3842004&quot;
## [1] &quot;2006 3952932&quot;
## [1] &quot;2007 3994007&quot;
## [1] &quot;2008 3926358&quot;
## [1] &quot;2009 3815638&quot;
## [1] &quot;2010 3690700&quot;
## [1] &quot;2011 3651914&quot;
## [1] &quot;2012 3650462&quot;
## [1] &quot;2013 3637310&quot;
## [1] &quot;2014 3696311&quot;
## [1] &quot;2015 3688687&quot;</code></pre>
<p>The syntax of loops, including where to put parentheses in index statements, can be tricky. Expect to refer to Google and StackExchange often in order to get your code running.</p>
<p>Another good source is Chapter 21 of R4DS. There, Wickham goes in to additional detail, including a description of seq_along(df) as a tool for creating an index corresponding to 1:ncol(df). Here’s an example with the diamonds dataset:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb162-1" title="1">diamonds2 &lt;-<span class="st"> </span>diamonds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb162-2" title="2"><span class="st">    </span><span class="kw">select_if</span>(., is.numeric)</a>
<a class="sourceLine" id="cb162-3" title="3"><span class="co"># for (i in (1:ncol(diamonds2))) {</span></a>
<a class="sourceLine" id="cb162-4" title="4"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(diamonds2)) {</a>
<a class="sourceLine" id="cb162-5" title="5">    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="kw">names</span>(diamonds2[i]),</a>
<a class="sourceLine" id="cb162-6" title="6">                <span class="kw">round</span>(<span class="kw">mean</span>(diamonds2[[i]]),<span class="dv">2</span>)))</a>
<a class="sourceLine" id="cb162-7" title="7">}</a></code></pre></div>
<pre><code>## [1] &quot;carat 0.8&quot;
## [1] &quot;depth 61.75&quot;
## [1] &quot;table 57.46&quot;
## [1] &quot;price 3932.8&quot;
## [1] &quot;x 5.73&quot;
## [1] &quot;y 5.73&quot;
## [1] &quot;z 3.54&quot;</code></pre>
<p>Chapter 21 of R4DS also considers some extensions to related problems such as loops of indefinite length, which can often be addressed using the ‘<em>while</em>’ command.</p>
</div>
<div id="from-loop-to-apply-to-purrrmap" class="section level2">
<h2><span class="header-section-number">16.2</span> from loop to apply to purrr::map</h2>
<p>Understanding for loops is fundamental in programming, but in R they should often be sidestepped. If the order of iteration isn’t important (if, for example, it doesn’t matter which of the diamonds variables we take the mean of first), then using one of the measures from the <strong>apply</strong> family can generally be used to make your code simpler and more efficient.</p>
<p>The logic is that one takes a dataframe (df or tibble), then applies a function to its rows or columns:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb164-1" title="1"><span class="co"># apply the function (mean) to the columns(2) of the df </span></a>
<a class="sourceLine" id="cb164-2" title="2">diamonds2  <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">apply</span>(<span class="dv">2</span>,mean) </a></code></pre></div>
<pre><code>##        carat        depth        table        price            x            y 
##    0.7979397   61.7494049   57.4571839 3932.7997219    5.7311572    5.7345260 
##            z 
##    3.5387338</code></pre>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb166-1" title="1"><span class="co"># simply apply - guesses that you are looking for col. means</span></a>
<a class="sourceLine" id="cb166-2" title="2">diamonds2  <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">sapply</span>(mean) </a></code></pre></div>
<pre><code>##        carat        depth        table        price            x            y 
##    0.7979397   61.7494049   57.4571839 3932.7997219    5.7311572    5.7345260 
##            z 
##    3.5387338</code></pre>
<p>The many variants of the apply family, including lapply [list apply] and tapply [table apply] as well as sapply, each have their own uses and can be quite efficient but, again, can be syntactically challenging.</p>
<p>In the evolving tidyverse, the <strong>map</strong> family of commands is supplementing if not supplanting apply; these commands (part of the purrr package in the core tidyverse) may prove to be more convenient and clear. For example, the <strong>map_df</strong> function will apply a function and return a dataframe (tibble), which can be handy for further analysis.</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb168-1" title="1">b &lt;-diamonds2 <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">map_df</span>(mean)</a>
<a class="sourceLine" id="cb168-2" title="2">b</a></code></pre></div>
<pre><code>## # A tibble: 1 x 7
##   carat depth table price     x     y     z
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 0.798  61.7  57.5 3933.  5.73  5.73  3.54</code></pre>
</div>
<div id="some-examples-of-functions" class="section level2">
<h2><span class="header-section-number">16.3</span> some examples of functions</h2>
<p>If you repeat a series of lines of code several times in your program, it is often best to wrap this into a function.</p>
<p>The first example is from a preregistered study I recently started of language and politics. For the preregistration, I ran analyses using <strong>simulated data,</strong> both to increase the likelihood that the code will run without error on real data and to help anticipate the analyses which are to be run on ‘real’ data. I began by getting a real body of text from the net and scrambling it, then constructing fake ‘Republican’ and ‘Democratic’ texts from this. Here, I illustrate this by constructing 50 sample documents, each consisting of between 5 and 20 words.</p>
<p>The project is given in four steps:</p>
<div id="preliminaries" class="section level3">
<h3><span class="header-section-number">16.3.1</span> preliminaries</h3>
<p>Here is the preliminary stuff, where I pull the data off the net and initialize the variables</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb170-1" title="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb170-2" title="2">sampledata &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="kw">url</span>(</a>
<a class="sourceLine" id="cb170-3" title="3"><span class="co">#      &quot;https://www.crowdflower.com/wp-content/uploads/2016/03/sentiment-words-DFE-785960.csv&quot;))</span></a>
<a class="sourceLine" id="cb170-4" title="4"><span class="st">&quot;https://raw.githubusercontent.com/totalgood/hope/master/data/corpora/sentiment-words-DFE-785960.csv&quot;</span>))</a>
<a class="sourceLine" id="cb170-5" title="5">  <span class="co"># pulls off four words</span></a>
<a class="sourceLine" id="cb170-6" title="6">sampledata &lt;-<span class="st"> </span>sampledata[<span class="dv">22</span><span class="op">:</span><span class="dv">25</span>] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">na.omit</span>()</a>
<a class="sourceLine" id="cb170-7" title="7"></a>
<a class="sourceLine" id="cb170-8" title="8">ndocs &lt;-<span class="st"> </span><span class="dv">50</span></a>
<a class="sourceLine" id="cb170-9" title="9">minDocLength &lt;-<span class="st">  </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb170-10" title="10">maxDocLength &lt;-<span class="st"> </span><span class="dv">20</span></a>
<a class="sourceLine" id="cb170-11" title="11">doc &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">mode =</span> <span class="st">&quot;character&quot;</span>, <span class="dt">length =</span> ndocs)</a></code></pre></div>
</div>
<div id="the-function" class="section level3">
<h3><span class="header-section-number">16.3.2</span> the function</h3>
<p>Here’s the simple function which pulls a random word out of the matrix of sampledata.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb171-1" title="1"><span class="kw">set.seed</span>(<span class="dv">33458</span>) <span class="co"># a random seed is used to allow reproducible results</span></a>
<a class="sourceLine" id="cb171-2" title="2">getword &lt;-<span class="st"> </span><span class="cf">function</span>() {</a>
<a class="sourceLine" id="cb171-3" title="3">      rowid &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(sampledata), <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb171-4" title="4">      colid &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">ncol</span>(sampledata), <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb171-5" title="5">      word &lt;-<span class="st"> </span>sampledata[rowid,colid]</a>
<a class="sourceLine" id="cb171-6" title="6">      word                 </a>
<a class="sourceLine" id="cb171-7" title="7">}</a></code></pre></div>
</div>
<div id="applying-the-function" class="section level3">
<h3><span class="header-section-number">16.3.3</span> applying the function</h3>
<p>The function is applied, first, to extract one word, then, in successive loops, to build up one phrase and then many.</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb172-1" title="1"><span class="co"># combine words into docs</span></a>
<a class="sourceLine" id="cb172-2" title="2"><span class="co"># establish length of first phrase</span></a>
<a class="sourceLine" id="cb172-3" title="3">docLength &lt;-<span class="st"> </span><span class="kw">sample</span>(minDocLength<span class="op">:</span>maxDocLength,<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb172-4" title="4"><span class="co"># initialize with one word</span></a>
<a class="sourceLine" id="cb172-5" title="5">sampleCorpus &lt;-<span class="st"> </span><span class="kw">getword</span>()</a>
<a class="sourceLine" id="cb172-6" title="6"><span class="co"># loop to build up first phrase</span></a>
<a class="sourceLine" id="cb172-7" title="7"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>docLength) {</a>
<a class="sourceLine" id="cb172-8" title="8">      addWord &lt;-<span class="st"> </span><span class="kw">getword</span>()</a>
<a class="sourceLine" id="cb172-9" title="9">      sampleCorpus &lt;-<span class="st"> </span><span class="kw">paste</span>(sampleCorpus, addWord)</a>
<a class="sourceLine" id="cb172-10" title="10">}</a>
<a class="sourceLine" id="cb172-11" title="11"><span class="co">#add additional simulated documents</span></a>
<a class="sourceLine" id="cb172-12" title="12"><span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span>ndocs) {</a>
<a class="sourceLine" id="cb172-13" title="13">      docLength &lt;-<span class="st"> </span><span class="kw">sample</span>(minDocLength<span class="op">:</span>maxDocLength,<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb172-14" title="14">      newdoc &lt;-<span class="st"> </span><span class="kw">getword</span>()</a>
<a class="sourceLine" id="cb172-15" title="15">      <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>docLength <span class="op">-</span><span class="st"> </span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb172-16" title="16">            addWord &lt;-<span class="st"> </span><span class="kw">getword</span>()</a>
<a class="sourceLine" id="cb172-17" title="17">            newdoc &lt;-<span class="st"> </span><span class="kw">paste</span>(newdoc, addWord)</a>
<a class="sourceLine" id="cb172-18" title="18">      }</a>
<a class="sourceLine" id="cb172-19" title="19">      sampleCorpus &lt;-<span class="st"> </span><span class="kw">rbind</span>(newdoc,sampleCorpus)</a>
<a class="sourceLine" id="cb172-20" title="20">}</a></code></pre></div>
<p>Finally, the results are combined with a vector of alternating labels of ‘Dem’ and ‘Rep’:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb173-1" title="1"><span class="kw">row.names</span>(sampleCorpus) &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb173-2" title="2">evenOdd &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;Dem&quot;</span>,<span class="st">&quot;Rep&quot;</span>),<span class="dt">length.out =</span> <span class="kw">nrow</span>(sampleCorpus))</a>
<a class="sourceLine" id="cb173-3" title="3">workingCorpus &lt;-<span class="st"> </span><span class="kw">as.tibble</span>(<span class="kw">cbind</span>(evenOdd,sampleCorpus))</a>
<a class="sourceLine" id="cb173-4" title="4"><span class="kw">head</span>(workingCorpus,<span class="dv">5</span>)</a></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   evenOdd V2                                                                    
##   &lt;chr&gt;   &lt;chr&gt;                                                                 
## 1 Dem     wild at heart nobody loves me lost art miss the sun need a doctor kin~
## 2 Rep     great player awfully nice back hurts not paying pretty rubbish found ~
## 3 Dem     yahooo make no promises horrible daughter ew crazy evening fit        
## 4 Rep     can&#39;t sleep lazy afternoon sucks #fedup great shame positive break fa~
## 5 Dem     problems nice funniest hurt not necessarily sad nose eat no problem d~</code></pre>
</div>
</div>
<div id="how-many-bottles-of-what" class="section level2">
<h2><span class="header-section-number">16.4</span> how many bottles of what?</h2>
<p>To put the fun back into function, here’s a solution to the “99 bottles of beer” function described in r4DS 21.2.1. Study the code. Ask or answer a question about it in class or on Slack.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb175-1" title="1">beerSong &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">liquid =</span> <span class="st">&quot;beer&quot;</span>, <span class="dt">count =</span> <span class="dv">99</span>, <span class="dt">surface =</span> <span class="st">&quot;wall&quot;</span>) {</a>
<a class="sourceLine" id="cb175-2" title="2">    songtext &lt;-<span class="st"> &quot;&quot;</span> </a>
<a class="sourceLine" id="cb175-3" title="3">    <span class="cf">for</span> (i <span class="cf">in</span> (count<span class="op">:</span><span class="dv">1</span>)) { </a>
<a class="sourceLine" id="cb175-4" title="4">        thisLine =<span class="st"> </span>(<span class="kw">paste0</span>(i, <span class="st">&quot; bottles of &quot;</span>, liquid, </a>
<a class="sourceLine" id="cb175-5" title="5">            <span class="st">&quot; on the &quot;</span>, surface,</a>
<a class="sourceLine" id="cb175-6" title="6">            <span class="st">&quot;, you take one down and pass it around,</span><span class="ch">\n</span><span class="st">&quot;</span>))</a>
<a class="sourceLine" id="cb175-7" title="7">        songtext =<span class="st"> </span><span class="kw">c</span>(songtext, thisLine)</a>
<a class="sourceLine" id="cb175-8" title="8">    }</a>
<a class="sourceLine" id="cb175-9" title="9">    songtext =<span class="st"> </span><span class="kw">c</span>(songtext, </a>
<a class="sourceLine" id="cb175-10" title="10">                 (<span class="kw">paste0</span>(<span class="st">&quot;no more bottles of &quot;</span>,</a>
<a class="sourceLine" id="cb175-11" title="11">                         liquid,<span class="st">&quot; on the &quot;</span>, surface,<span class="st">&quot;...&quot;</span>)))</a>
<a class="sourceLine" id="cb175-12" title="12">    <span class="kw">cat</span>(songtext) <span class="co"># cat prints without line numbers</span></a>
<a class="sourceLine" id="cb175-13" title="13">}</a>
<a class="sourceLine" id="cb175-14" title="14"><span class="co">#beerSong() </span></a></code></pre></div>
<p>And here are solutions proposed by some of your classmates. How do they differ from each other, and from the solution given above?</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb176-1" title="1">beersng &lt;-<span class="st"> </span><span class="cf">function</span>(n) {</a>
<a class="sourceLine" id="cb176-2" title="2">  <span class="cf">if</span> (n <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb176-3" title="3">    <span class="kw">cat</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>,n,<span class="st">&quot; bottle of beer on the wall, &quot;</span>,n,</a>
<a class="sourceLine" id="cb176-4" title="4">        <span class="st">&quot; bottles of beer.</span><span class="ch">\n</span><span class="st">Take one down and pass it around,&quot;</span>,</a>
<a class="sourceLine" id="cb176-5" title="5">        <span class="st">&quot; no more bottles of beer on the wall.</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb176-6" title="6">    <span class="kw">cat</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">No more bottles of beer on the wall, </span></a>
<a class="sourceLine" id="cb176-7" title="7"><span class="st">        no more bottles of beer.</span><span class="ch">\n</span><span class="st">&quot;</span>,</a>
<a class="sourceLine" id="cb176-8" title="8">        <span class="st">&quot;Go to the store and buy some more, </span></a>
<a class="sourceLine" id="cb176-9" title="9"><span class="st">        99 bottles of beer on the wall.</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb176-10" title="10">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb176-11" title="11">    <span class="kw">cat</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>,n,<span class="st">&quot; bottles of beer on the wall, &quot;</span>,n,</a>
<a class="sourceLine" id="cb176-12" title="12">        <span class="st">&quot; bottles of beer.</span><span class="ch">\n</span><span class="st">Take one down and pass it around, &quot;</span>,</a>
<a class="sourceLine" id="cb176-13" title="13">        n<span class="dv">-1</span>, <span class="st">&quot; more bottles of beer on the wall.</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb176-14" title="14">    <span class="kw">return</span>(<span class="kw">beersng</span>(n<span class="dv">-1</span>))</a>
<a class="sourceLine" id="cb176-15" title="15">  }</a>
<a class="sourceLine" id="cb176-16" title="16">}</a>
<a class="sourceLine" id="cb176-17" title="17"><span class="co">#beersng(99)</span></a>
<a class="sourceLine" id="cb176-18" title="18">moreBeer &lt;-<span class="st"> </span><span class="cf">function</span> () {</a>
<a class="sourceLine" id="cb176-19" title="19">  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">0</span><span class="op">:</span><span class="dv">100</span>){</a>
<a class="sourceLine" id="cb176-20" title="20">  starting_number &lt;-<span class="st"> </span><span class="dv">100</span></a>
<a class="sourceLine" id="cb176-21" title="21">  <span class="cf">if</span> (starting_number <span class="op">-</span><span class="st"> </span>i <span class="op">==</span><span class="st"> </span><span class="dv">0</span>) {</a>
<a class="sourceLine" id="cb176-22" title="22">    <span class="kw">print</span>(<span class="st">&quot;No more bottles of beer on the wall, </span></a>
<a class="sourceLine" id="cb176-23" title="23"><span class="st">          no more bottles of beer, </span></a>
<a class="sourceLine" id="cb176-24" title="24"><span class="st">          Go to the store and buy some more, </span></a>
<a class="sourceLine" id="cb176-25" title="25"><span class="st">          99 bottles of beer on the wall.&quot;</span>)</a>
<a class="sourceLine" id="cb176-26" title="26">    <span class="cf">break</span></a>
<a class="sourceLine" id="cb176-27" title="27">  }</a>
<a class="sourceLine" id="cb176-28" title="28">  <span class="kw">print</span>(<span class="kw">paste</span>(starting_number <span class="op">-</span><span class="st"> </span>i,</a>
<a class="sourceLine" id="cb176-29" title="29">              <span class="st">&quot;bottles of beer on the wall&quot;</span>,</a>
<a class="sourceLine" id="cb176-30" title="30">              <span class="st">&quot;Take one down and pass it around,&quot;</span>,</a>
<a class="sourceLine" id="cb176-31" title="31">              starting_number <span class="op">-</span><span class="st"> </span>i <span class="op">-</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb176-32" title="32">              <span class="st">&quot;bottles of beer on the wall.&quot;</span>))</a>
<a class="sourceLine" id="cb176-33" title="33">  }</a>
<a class="sourceLine" id="cb176-34" title="34">}</a>
<a class="sourceLine" id="cb176-35" title="35"><span class="co"># moreBeer()</span></a>
<a class="sourceLine" id="cb176-36" title="36">song &lt;-<span class="st"> </span><span class="cf">function</span>(bottlesofbeer){</a>
<a class="sourceLine" id="cb176-37" title="37">  <span class="cf">for</span>(i <span class="cf">in</span> bottlesofbeer<span class="op">:</span><span class="dv">1</span>){ </a>
<a class="sourceLine" id="cb176-38" title="38">     <span class="kw">cat</span>(bottlesofbeer,<span class="st">&quot; bottles of beer on the wall </span><span class="ch">\n</span><span class="st">&quot;</span>,</a>
<a class="sourceLine" id="cb176-39" title="39">        bottlesofbeer,<span class="st">&quot; bottles of beer </span><span class="ch">\n</span><span class="st">Take one down, </span></a>
<a class="sourceLine" id="cb176-40" title="40"><span class="st">        pass it around </span><span class="ch">\n</span><span class="st">&quot;</span>,</a>
<a class="sourceLine" id="cb176-41" title="41">        bottlesofbeer<span class="dv">-1</span>, <span class="st">&quot; bottles of beer on the wall </span><span class="ch">\n</span><span class="st">&quot;</span>,<span class="st">&quot; </span><span class="ch">\n</span><span class="st">&quot;</span>)       </a>
<a class="sourceLine" id="cb176-42" title="42">        bottlesofbeer =<span class="st"> </span>bottlesofbeer <span class="op">-</span><span class="st"> </span><span class="dv">1</span> </a>
<a class="sourceLine" id="cb176-43" title="43">  }</a>
<a class="sourceLine" id="cb176-44" title="44">}</a>
<a class="sourceLine" id="cb176-45" title="45"><span class="co">#song(99)</span></a></code></pre></div>
<p>Which code is ‘best’? Good code is clear, but it is also efficient. We probably shouldn’t expect much in the way of differences between these functions in terms of speed (as each includes 99 iterations of a simple print command), but here’s a simple way to compare. Note that I’ve used the “sink” command to write my output to files rather than consoles:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb177-1" title="1">start_time &lt;-<span class="st"> </span><span class="kw">Sys.time</span>()</a>
<a class="sourceLine" id="cb177-2" title="2"><span class="kw">sink</span> (<span class="dt">file =</span> <span class="st">&quot;f1.txt&quot;</span>)</a>
<a class="sourceLine" id="cb177-3" title="3"><span class="kw">beerSong</span>(<span class="st">&quot;beer&quot;</span>,<span class="dv">99</span>)</a>
<a class="sourceLine" id="cb177-4" title="4"><span class="kw">sink</span>()</a>
<a class="sourceLine" id="cb177-5" title="5">end_time &lt;-<span class="st"> </span><span class="kw">Sys.time</span>()</a>
<a class="sourceLine" id="cb177-6" title="6">beerSongtime &lt;-<span class="st"> </span>end_time <span class="op">-</span><span class="st"> </span>start_time</a>
<a class="sourceLine" id="cb177-7" title="7"></a>
<a class="sourceLine" id="cb177-8" title="8">start_time &lt;-<span class="st"> </span><span class="kw">Sys.time</span>()</a>
<a class="sourceLine" id="cb177-9" title="9"><span class="kw">sink</span> (<span class="dt">file =</span> <span class="st">&quot;f2.txt&quot;</span>)</a>
<a class="sourceLine" id="cb177-10" title="10"><span class="kw">beersng</span>(<span class="dv">99</span>)</a>
<a class="sourceLine" id="cb177-11" title="11"><span class="kw">sink</span>()</a>
<a class="sourceLine" id="cb177-12" title="12">end_time &lt;-<span class="st"> </span><span class="kw">Sys.time</span>()</a>
<a class="sourceLine" id="cb177-13" title="13">beersngtime &lt;-<span class="st"> </span>end_time <span class="op">-</span><span class="st"> </span>start_time</a>
<a class="sourceLine" id="cb177-14" title="14"></a>
<a class="sourceLine" id="cb177-15" title="15">start_time &lt;-<span class="st"> </span><span class="kw">Sys.time</span>()</a>
<a class="sourceLine" id="cb177-16" title="16"><span class="kw">sink</span> (<span class="dt">file =</span> <span class="st">&quot;f3.txt&quot;</span>)</a>
<a class="sourceLine" id="cb177-17" title="17"><span class="kw">song</span>(<span class="dv">99</span>)</a>
<a class="sourceLine" id="cb177-18" title="18"><span class="kw">sink</span>()</a>
<a class="sourceLine" id="cb177-19" title="19">end_time &lt;-<span class="st"> </span><span class="kw">Sys.time</span>()</a>
<a class="sourceLine" id="cb177-20" title="20">songtime &lt;-<span class="st"> </span>end_time <span class="op">-</span><span class="st"> </span>start_time</a>
<a class="sourceLine" id="cb177-21" title="21"></a>
<a class="sourceLine" id="cb177-22" title="22">start_time &lt;-<span class="st"> </span><span class="kw">Sys.time</span>()</a>
<a class="sourceLine" id="cb177-23" title="23"><span class="kw">sink</span> (<span class="dt">file =</span> <span class="st">&quot;f4.txt&quot;</span>)</a>
<a class="sourceLine" id="cb177-24" title="24"><span class="kw">moreBeer</span>()</a>
<a class="sourceLine" id="cb177-25" title="25"><span class="kw">sink</span>()</a>
<a class="sourceLine" id="cb177-26" title="26">end_time &lt;-<span class="st"> </span><span class="kw">Sys.time</span>()</a>
<a class="sourceLine" id="cb177-27" title="27">moreBeertime &lt;-<span class="st"> </span>end_time <span class="op">-</span><span class="st"> </span>start_time</a></code></pre></div>
<p>Here is the first line of output from each function, together with table showing the elapsed times:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb178-1" title="1"><span class="kw">readLines</span>(<span class="st">&quot;f1.txt&quot;</span>,<span class="dv">1</span>)</a></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb180-1" title="1"><span class="kw">readLines</span>(<span class="st">&quot;f2.txt&quot;</span>,<span class="dv">2</span>)</a></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb182-1" title="1"><span class="kw">readLines</span>(<span class="st">&quot;f3.txt&quot;</span>,<span class="dv">4</span>)</a></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb184-1" title="1"><span class="kw">readLines</span>(<span class="st">&quot;f4.txt&quot;</span>,<span class="dv">1</span>)</a></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb186-1" title="1"><span class="kw">tibble</span>(<span class="dt">functionName =</span> <span class="kw">c</span>(<span class="st">&quot;beerSongtime&quot;</span>,</a>
<a class="sourceLine" id="cb186-2" title="2">           <span class="st">&quot;beersngtime&quot;</span>,</a>
<a class="sourceLine" id="cb186-3" title="3">           <span class="st">&quot;songtime&quot;</span>,</a>
<a class="sourceLine" id="cb186-4" title="4">           <span class="st">&quot;moreBeertime&quot;</span>), <span class="dt">time =</span></a>
<a class="sourceLine" id="cb186-5" title="5">             <span class="kw">c</span>(beerSongtime,beersngtime,</a>
<a class="sourceLine" id="cb186-6" title="6">           songtime,</a>
<a class="sourceLine" id="cb186-7" title="7">           moreBeertime)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb186-8" title="8"><span class="st">          </span><span class="kw">kable</span>(<span class="dt">digits =</span> <span class="dv">2</span>)</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
functionName
</th>
<th style="text-align:left;">
time
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
beerSongtime
</td>
<td style="text-align:left;">
0.02 secs
</td>
</tr>
<tr>
<td style="text-align:left;">
beersngtime
</td>
<td style="text-align:left;">
0.04 secs
</td>
</tr>
<tr>
<td style="text-align:left;">
songtime
</td>
<td style="text-align:left;">
0.04 secs
</td>
</tr>
<tr>
<td style="text-align:left;">
moreBeertime
</td>
<td style="text-align:left;">
0.04 secs
</td>
</tr>
</tbody>
</table>

</div>
</div>
<h3> references</h3>
<div id="refs" class="references">
<div id="ref-sternberg1999theory">
<p>Sternberg, Robert J. 1999. “The Theory of Successful Intelligence.” <em>Review of General Psychology</em> 3 (4): 292–316.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="lists.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="correlation-and-linear-regression.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
